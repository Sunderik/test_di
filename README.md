# testing_di

Тестовый проект для примера взаимодействия с кодогенераторами зависимостей и иммутабельных моделей.

## Описание

Данный проект представляет собой сильно упрощенный пример приложения создаваемого при помощи таких библиотек как:
- build_value (или альтернативный вариант freezed) для иммутабельных моделей с кодогенерацией и сериализация из коробки.
- связки get_it + injectable для создания di и его автоматической генерации по аннотациям или маскам в коде.

## Проблематика

Данный проект содержит два пакета занимающихся автоматической генерацией кода, built_value создает файлы части классов с расширением '.g.dart',
придавая им иммутабильность и сериализацию (если нужно), в то время как связка get_it + injectable создает файл DI зависимостей
'injection.config.dart'.

По команде 'dart run build_runner build' запускается кодогенерация этих плагинов. Которая выполняет как генерацию 
иммутабельных классов, так и построение зависимостей.

Проблема заключается с ростом затрачиваемого времени на генерацию при увеличении зависимостей, например для 5 репозиториев,2 сервисов и 2 моделей, 
время генерации на мощной машине составляет около 4 секунд, что в рамках построения графа произведено 56 действий. В проекте 
с большим количеством зависимостей и моделей, например в 10000 действий время может составлять 5 минут на той же машине.

При помощи файла 'build.yaml' в корневой папке, частично можно управлять работой генераторов и оптимизировать время генерации
при помощи явного указания директорий, в которые генераторы кода должны заходить. А флаг 'enabled' может отключить работу генератора при использовании команды.

## Вопрос

Как оптимизировать работу генератора DI если есть подозрение, что флаг отключения этого генератора не работает полноценно или не работает вообще.
Например, это нужно, что при незначительном изменении модели не строить зависимости проекта, а просто перегенерировать классы моделей.

На примере библиотеки built_value может быть любая другая требующая генерации кода, и часто используемая, а проблема сама актуальна 
изз-за популярности в интернете подхода 'get_it + injectable' как подхода работы с DI.